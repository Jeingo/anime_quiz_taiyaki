<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–ö—Ç–æ —Ç—ã –∏–∑ –∞–Ω–∏–º–µ? üç•</title>
    <link href="https://fonts.googleapis.com/css2?family=Righteous&family=Noto+Sans+JP:wght@300;400;700&display=swap" rel="stylesheet">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root {
            --primary-orange: #E87242;
            --secondary-orange: #F5A962;
            --light-orange: #FFF5EE;
            --accent-coral: #FF9478;
            --cream: #FFF9F3;
            --soft-peach: #FFE4D6;
            --text-dark: #3D3D3D;
            --text-medium: #666666;
            --text-light: #8B8B8B;
            --card-bg: #FFFFFF;
            --gradient-start: #E87242;
            --gradient-end: #F5A962;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans JP', sans-serif;
            background: linear-gradient(135deg, var(--cream) 0%, var(--light-orange) 100%);
            color: var(--text-dark);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* Animated background elements */
        .bg-decoration {
            position: fixed;
            opacity: 0.08;
            pointer-events: none;
            z-index: 0;
        }

        .circle-1 {
            width: 400px;
            height: 400px;
            background: radial-gradient(circle, var(--primary-orange) 0%, transparent 70%);
            top: -150px;
            right: -150px;
            border-radius: 50%;
            animation: float 25s ease-in-out infinite;
        }

        .circle-2 {
            width: 300px;
            height: 300px;
            background: radial-gradient(circle, var(--secondary-orange) 0%, transparent 70%);
            bottom: -100px;
            left: -100px;
            border-radius: 50%;
            animation: float 20s ease-in-out infinite reverse;
        }

        .fish-pattern {
            width: 150px;
            height: 150px;
            background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path d="M50 30c-10 0-20 5-20 15s10 15 20 15 20-5 20-15-10-15-20-15z" fill="%23E87242" opacity="0.1"/></svg>');
            top: 50%;
            right: 10%;
            animation: float 30s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translate(0, 0) rotate(0deg); }
            33% { transform: translate(20px, -30px) rotate(5deg); }
            66% { transform: translate(-20px, -20px) rotate(-5deg); }
        }

        /* Container */
        .container {
            position: relative;
            z-index: 1;
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
        }

        /* Header */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0 20px;
        }

        .logo-container {
            width: 90px;
            height: 90px;
            background: white;
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 20px rgba(232, 114, 66, 0.15);
            overflow: hidden;
        }

        .logo-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* Start Screen */
        .start-screen {
            text-align: center;
            padding: 40px 0;
            animation: fadeIn 0.8s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .title {
            font-family: 'Righteous', cursive;
            font-size: 48px;
            background: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 20px;
            filter: drop-shadow(0 2px 8px rgba(232, 114, 66, 0.3));
            animation: titlePulse 3s ease-in-out infinite;
        }

        @keyframes titlePulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }

        .subtitle {
            font-size: 18px;
            color: var(--text-medium);
            line-height: 1.7;
            margin-bottom: 40px;
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
        }

        .start-btn {
            background: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));
            color: white;
            border: none;
            padding: 18px 60px;
            font-size: 20px;
            font-weight: 700;
            border-radius: 50px;
            cursor: pointer;
            font-family: 'Noto Sans JP', sans-serif;
            box-shadow: 0 8px 25px rgba(232, 114, 66, 0.3);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .start-btn:before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.5s;
        }

        .start-btn:hover:before {
            left: 100%;
        }

        .start-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 35px rgba(232, 114, 66, 0.4);
        }

        .start-btn:active {
            transform: translateY(-1px);
        }

        .info-badge {
            display: inline-block;
            background: rgba(232, 114, 66, 0.1);
            border: 2px solid var(--primary-orange);
            padding: 10px 20px;
            border-radius: 25px;
            margin-top: 30px;
            font-size: 14px;
            color: var(--primary-orange);
            font-weight: 500;
        }

        /* Quiz Screen */
        .quiz-screen {
            display: none;
            animation: fadeIn 0.5s ease-out;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(232, 114, 66, 0.15);
            border-radius: 10px;
            margin-bottom: 30px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--gradient-start), var(--gradient-end));
            border-radius: 10px;
            transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 0 15px rgba(232, 114, 66, 0.4);
        }

        .question-number {
            text-align: center;
            font-size: 14px;
            color: var(--text-light);
            margin-bottom: 15px;
            font-weight: 400;
        }

        .question-text {
            font-family: 'Righteous', cursive;
            font-size: 28px;
            text-align: center;
            margin-bottom: 35px;
            color: var(--text-dark);
            line-height: 1.3;
        }

        .answers-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 30px;
        }

        .answer-card {
            background: var(--card-bg);
            border: 2px solid transparent;
            border-radius: 20px;
            padding: 18px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        }

        .answer-card:before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .answer-card:hover {
            border-color: var(--primary-orange);
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(232, 114, 66, 0.2);
        }

        .answer-card:hover:before {
            opacity: 0.08;
        }

        .answer-card.selected {
            border-color: var(--primary-orange);
            background: linear-gradient(135deg, rgba(232, 114, 66, 0.1), rgba(245, 169, 98, 0.1));
            transform: scale(1.05);
            box-shadow: 0 8px 25px rgba(232, 114, 66, 0.25);
        }

        .answer-image {
            width: 100%;
            height: 120px;
            background: linear-gradient(135deg, var(--soft-peach), var(--light-orange));
            border-radius: 16px;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 48px;
            position: relative;
            z-index: 1;
        }

        .answer-label {
            text-align: center;
            font-size: 14px;
            color: var(--text-dark);
            font-weight: 500;
            position: relative;
            z-index: 1;
            line-height: 1.4;
        }

        /* Result Screen */
        .result-screen {
            display: none;
            animation: fadeIn 0.8s ease-out;
            text-align: center;
        }

        .character-card {
            background: var(--card-bg);
            border-radius: 24px;
            padding: 35px;
            margin: 20px 0 30px;
            border: 3px solid var(--primary-orange);
            box-shadow: 0 12px 40px rgba(232, 114, 66, 0.2);
        }

        .character-image {
            width: 200px;
            height: 200px;
            background: linear-gradient(135deg, var(--soft-peach), var(--light-orange));
            border-radius: 50%;
            margin: 0 auto 25px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 80px;
            border: 4px solid var(--primary-orange);
            box-shadow: 0 8px 30px rgba(232, 114, 66, 0.25);
        }

        .character-name {
            font-family: 'Righteous', cursive;
            font-size: 36px;
            color: var(--primary-orange);
            margin-bottom: 10px;
        }

        .character-anime {
            font-size: 16px;
            color: var(--text-medium);
            margin-bottom: 20px;
            font-style: italic;
        }

        .character-description {
            font-size: 16px;
            line-height: 1.9;
            color: var(--text-dark);
            margin-bottom: 20px;
        }

        .cafe-promo {
            background: linear-gradient(135deg, rgba(232, 114, 66, 0.08), rgba(245, 169, 98, 0.08));
            border: 2px solid var(--primary-orange);
            border-radius: 20px;
            padding: 25px;
            margin: 25px 0;
        }

        .cafe-promo-title {
            font-size: 19px;
            font-weight: 700;
            margin-bottom: 12px;
            color: var(--primary-orange);
        }

        .cafe-promo-text {
            font-size: 15px;
            line-height: 1.7;
            color: var(--text-dark);
        }

        .share-section {
            margin: 25px 0;
        }

        .share-text {
            font-size: 16px;
            color: var(--text-medium);
            margin-bottom: 18px;
            line-height: 1.7;
        }

        .action-buttons {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .btn {
            padding: 16px 30px;
            border-radius: 50px;
            font-size: 16px;
            font-weight: 700;
            border: none;
            cursor: pointer;
            font-family: 'Noto Sans JP', sans-serif;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));
            color: white;
            box-shadow: 0 6px 20px rgba(232, 114, 66, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(232, 114, 66, 0.4);
        }

        .btn-secondary {
            background: white;
            color: var(--primary-orange);
            border: 2px solid var(--primary-orange);
        }

        .btn-secondary:hover {
            background: rgba(232, 114, 66, 0.05);
            transform: translateY(-2px);
        }

        .restart-btn {
            margin-top: 20px;
            background: transparent;
            color: var(--text-light);
            border: 1px solid rgba(0, 0, 0, 0.15);
            font-size: 14px;
            padding: 12px 24px;
        }

        .restart-btn:hover {
            border-color: var(--primary-orange);
            color: var(--primary-orange);
        }

        /* Animations */
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .answer-card {
            animation: slideIn 0.3s ease-out;
        }

        .answer-card:nth-child(1) { animation-delay: 0s; }
        .answer-card:nth-child(2) { animation-delay: 0.1s; }
        .answer-card:nth-child(3) { animation-delay: 0.2s; }
        .answer-card:nth-child(4) { animation-delay: 0.3s; }

        /* Loading animation */
        .loading {
            text-align: center;
            padding: 50px 0;
        }

        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 4px solid rgba(232, 114, 66, 0.2);
            border-top: 4px solid var(--primary-orange);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .hidden {
            display: none !important;
        }

        /* Decorative elements */
        .taiyaki-icon {
            font-size: 24px;
            display: inline-block;
            animation: bounce 2s ease-in-out infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }
    </style>
</head>
<body>
    <div class="bg-decoration circle-1"></div>
    <div class="bg-decoration circle-2"></div>
    <div class="bg-decoration fish-pattern"></div>

    <div class="container">
        <!-- Header -->
        <div class="header">
            <div></div>
            <div class="logo-container">
                <img src="images/taiyaki-logo.jpg" alt="–¢–∞–π—è–∫–∏" onerror="this.parentElement.innerHTML='üç•'">
            </div>
        </div>

        <!-- Start Screen -->
        <div class="start-screen" id="startScreen">
            <h1 class="title">–ö—Ç–æ —Ç—ã –∏–∑ –∞–Ω–∏–º–µ?</h1>
            <p class="subtitle">
                –ü—Ä–æ–π–¥–∏ —Ç–µ—Å—Ç –∏–∑ 7 –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ —É–∑–Ω–∞–π, –∫–∞–∫–æ–π –ø–µ—Ä—Å–æ–Ω–∞–∂ –∞–Ω–∏–º–µ –ø–æ–¥—Ö–æ–¥–∏—Ç —Ç–≤–æ–µ–º—É —Ö–∞—Ä–∞–∫—Ç–µ—Ä—É! 
                –í—ã–±–∏—Ä–∞–π –±–ª—é–¥–∞, –Ω–∞–ø–∏—Ç–∫–∏ –∏ —Å—Ç–∏–ª—å –∂–∏–∑–Ω–∏ ‚Äî –º—ã –æ–ø—Ä–µ–¥–µ–ª–∏–º —Ç–≤–æ–µ–≥–æ –∞–Ω–∏–º–µ—à–Ω–æ–≥–æ –¥–≤–æ–π–Ω–∏–∫–∞ <span class="taiyaki-icon">üç•</span>
            </p>
            <button class="start-btn" onclick="startQuiz()">–ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç</button>
            <div class="info-badge">‚è±Ô∏è 7 –≤–æ–ø—Ä–æ—Å–æ–≤ ‚Ä¢ 2 –º–∏–Ω—É—Ç—ã</div>
        </div>

        <!-- Quiz Screen -->
        <div class="quiz-screen" id="quizScreen">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill" style="width: 0%"></div>
            </div>
            <div class="question-number" id="questionNumber">–í–æ–ø—Ä–æ—Å 1 –∏–∑ 7</div>
            <h2 class="question-text" id="questionText"></h2>
            <div class="answers-grid" id="answersGrid"></div>
        </div>

        <!-- Result Screen -->
        <div class="result-screen" id="resultScreen">
            <div class="character-card">
                <div class="character-image" id="characterImage">üé≠</div>
                <h2 class="character-name" id="characterName"></h2>
                <p class="character-anime" id="characterAnime"></p>
                <p class="character-description" id="characterDescription"></p>
            </div>

            <div class="cafe-promo">
                <div class="cafe-promo-title">üçú –¢–≤–æ–π –≤–∞–π–± –≤ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏</div>
                <p class="cafe-promo-text" id="cafeRecommendation"></p>
                <p class="cafe-promo-text" style="margin-top: 12px;">
                    –ê—Ç–º–æ—Å—Ñ–µ—Ä—É –∞–Ω–∏–º–µ, —Ä–∞–º–µ–Ω, —Ç–∞–π—è–∫–∏ –∏ —è–ø–æ–Ω—Å–∫–∏–µ –¥–µ—Å–µ—Ä—Ç—ã –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤ –∫–∞—Ñ–µ <strong>–¢–∞–π—è–∫–∏</strong> –≤ –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥–µ üíõ
                </p>
            </div>

            <div class="share-section">
                <p class="share-text">
                    üì∏ –°–∫–∏–Ω—å –¥—Ä—É–∑—å—è–º –∏ —Å—Ä–∞–≤–Ω–∏—Ç–µ, –∫—Ç–æ –∫–æ–º—É –≤—ã–ø–∞–ª!<br>
                    –°–¥–µ–ª–∞–π —Å–∫—Ä–∏–Ω –∏ –æ—Ç–º–µ—Ç—å –Ω–∞—Å –≤ —Å—Ç–æ—Ä–∏—Å
                </p>
                <div class="action-buttons">
                    <button class="btn btn-primary" onclick="shareResult()">–ü–æ–¥–µ–ª–∏—Ç—å—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º</button>
                    <button class="btn btn-secondary" onclick="openTaiyakiChannel()">–ö–∞–Ω–∞–ª –¢–∞–π—è–∫–∏</button>
                    <button class="btn restart-btn" onclick="restartQuiz()">–ü—Ä–æ–π—Ç–∏ –µ—â—ë —Ä–∞–∑</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Quiz data with updated menu items
        const questions = [
            {
                question: "–ö–∞–∫–æ–µ —è–ø–æ–Ω—Å–∫–æ–µ –±–ª—é–¥–æ —Ç—ã –≤—ã–±–µ—Ä–µ—à—å?",
                answers: [
                    { text: "–†–∞–º–µ–Ω —Å –Ω–∞—Å—ã—â–µ–Ω–Ω—ã–º –±—É–ª—å–æ–Ω–æ–º", emoji: "üçú", archetype: "hero" },
                    { text: "–ù–∞–±–µ (–≥–æ—Ä—è—á–∏–π –≥–æ—Ä—à–æ—á–µ–∫)", emoji: "üç≤", archetype: "strategist" },
                    { text: "–û–Ω–∏–≥–∏—Ä–∏ —Å –Ω–∞—á–∏–Ω–∫–æ–π", emoji: "üçô", archetype: "optimist" },
                    { text: "–ö–∞—Ä—Ä–∏ —Å –≥–æ–≤—è–¥–∏–Ω–æ–π", emoji: "üçõ", archetype: "rebel" }
                ]
            },
            {
                question: "–ö–∞–∫–æ–π –¥–µ—Å–µ—Ä—Ç —Ç—ã –≤—ã–±–µ—Ä–µ—à—å?",
                answers: [
                    { text: "–¢–∞–π—è–∫–∏ —Å –Ω–∞—á–∏–Ω–∫–æ–π", emoji: "üêü", archetype: "optimist" },
                    { text: "–î–∞–Ω–≥–æ –Ω–∞ –ø–∞–ª–æ—á–∫–µ", emoji: "üç°", archetype: "dreamer" },
                    { text: "–ú–æ—Ç–∏ —Å –∫—Ä–∞—Å–Ω–æ–π —Ñ–∞—Å–æ–ª—å—é", emoji: "üéÇ", archetype: "introvert" },
                    { text: "–ú–∞—Ç—á–∞-—Ç–∏—Ä–∞–º–∏—Å—É", emoji: "üç∞", archetype: "strategist" }
                ]
            },
            {
                question: "–ö–∞–∫–æ–π —É —Ç–µ–±—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä?",
                answers: [
                    { text: "–†–µ—à–∏—Ç–µ–ª—å–Ω—ã–π –∏ —Å–º–µ–ª—ã–π", emoji: "‚ö°", archetype: "hero" },
                    { text: "–°–ø–æ–∫–æ–π–Ω—ã–π –∏ —Ä–∞—Å—á—ë—Ç–ª–∏–≤—ã–π", emoji: "üß†", archetype: "strategist" },
                    { text: "–ú–µ—á—Ç–∞—Ç–µ–ª—å–Ω—ã–π –∏ –∫—Ä–µ–∞—Ç–∏–≤–Ω—ã–π", emoji: "üåô", archetype: "dreamer" },
                    { text: "–ë—É–Ω—Ç–∞—Ä—Å–∫–∏–π –∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–π", emoji: "üî•", archetype: "rebel" }
                ]
            },
            {
                question: "–ì–¥–µ –±—ã —Ç—ã –ø—Ä–µ–¥–ø–æ—á—ë–ª –∂–∏—Ç—å?",
                answers: [
                    { text: "–í –æ–∂–∏–≤–ª—ë–Ω–Ω–æ–º –º–µ–≥–∞–ø–æ–ª–∏—Å–µ", emoji: "üèôÔ∏è", archetype: "leader" },
                    { text: "–í —Ç–∏—Ö–æ–º –ø—Ä–∏–≥–æ—Ä–æ–¥–µ", emoji: "üè°", archetype: "introvert" },
                    { text: "–í –≤–æ–ª—à–µ–±–Ω–æ–º –º–µ—Å—Ç–µ –∏–∑ —Å–∫–∞–∑–∫–∏", emoji: "üè∞", archetype: "dreamer" },
                    { text: "–ù–∞ –∫—Ä–∞—é —Å–≤–µ—Ç–∞, –≤–¥–∞–ª–∏ –æ—Ç –≤—Å–µ—Ö", emoji: "‚õ∞Ô∏è", archetype: "rebel" }
                ]
            },
            {
                question: "–ö–∞–∫–æ–π –Ω–∞–ø–∏—Ç–æ–∫ —Ç—ã –≤—ã–±–µ—Ä–µ—à—å?",
                answers: [
                    { text: "–ú–∞—Ç—á–∞ –ª–∞—Ç—Ç–µ", emoji: "üçµ", archetype: "introvert" },
                    { text: "–Ø–ø–æ–Ω—Å–∫–∏–π –ª–∏–º–æ–Ω–∞–¥", emoji: "ü•§", archetype: "optimist" },
                    { text: "–Æ–¥–∑—É —á–∞–π", emoji: "üçä", archetype: "dreamer" },
                    { text: "–ú–∞—Ç—á–∞ –º–æ–º–æ –∞–π—Å", emoji: "üßã", archetype: "leader" }
                ]
            },
            {
                question: "–ö–∞–∫ —Ç—ã —Ä–µ–∞–≥–∏—Ä—É–µ—à—å –Ω–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç?",
                answers: [
                    { text: "–†–µ—à–∞—é –ø—Ä–æ–±–ª–µ–º—É —Å—Ä–∞–∑—É –∏ —á–µ—Å—Ç–Ω–æ", emoji: "üí™", archetype: "hero" },
                    { text: "–û–±–¥—É–º—ã–≤–∞—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—é", emoji: "üéØ", archetype: "strategist" },
                    { text: "–ü—ã—Ç–∞—é—Å—å —Å–≥–ª–∞–¥–∏—Ç—å —É–≥–ª—ã", emoji: "üïäÔ∏è", archetype: "optimist" },
                    { text: "–ò–¥—É —Å–≤–æ–∏–º –ø—É—Ç—ë–º", emoji: "üö∂", archetype: "rebel" }
                ]
            },
            {
                question: "–ß—Ç–æ –¥–ª—è —Ç–µ–±—è –≤–∞–∂–Ω–µ–µ –≤—Å–µ–≥–æ?",
                answers: [
                    { text: "–ó–∞—â–∏—â–∞—Ç—å –±–ª–∏–∑–∫–∏—Ö", emoji: "üõ°Ô∏è", archetype: "hero" },
                    { text: "–î–æ—Å—Ç–∏–≥–∞—Ç—å —Ü–µ–ª–µ–π", emoji: "üéØ", archetype: "strategist" },
                    { text: "–°–≤–æ–±–æ–¥–∞ –≤—ã–±–æ—Ä–∞", emoji: "ü¶Ö", archetype: "rebel" },
                    { text: "–ù–∞—Ö–æ–¥–∏—Ç—å –∫—Ä–∞—Å–æ—Ç—É –≤ –º–∏—Ä–µ", emoji: "üå∏", archetype: "dreamer" }
                ]
            }
        ];

        // Updated character database with new characters
        const characters = {
            hero: [
                {
                    name: "–ù–∞—Ä—É—Ç–æ –£–∑—É–º–∞–∫–∏",
                    anime: "Naruto",
                    emoji: "üç•",
                    description: "–¢—ã –∫–∞–∫ –ù–∞—Ä—É—Ç–æ ‚Äî –ø–æ–ª–æ–Ω —ç–Ω–µ—Ä–≥–∏–∏, –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —Å–¥–∞—ë—à—å—Å—è –∏ –≤–µ—Ä–∏—à—å –≤ —Å–∏–ª—É –¥—Ä—É–∂–±—ã. –¢–≤–æ—è —Ü–µ–ª–µ—É—Å—Ç—Ä–µ–º–ª—ë–Ω–Ω–æ—Å—Ç—å –≤–¥–æ—Ö–Ω–æ–≤–ª—è–µ—Ç –æ–∫—Ä—É–∂–∞—é—â–∏—Ö, –∞ –æ–ø—Ç–∏–º–∏–∑–º –ø–æ–º–æ–≥–∞–µ—Ç –ø—Ä–µ–æ–¥–æ–ª–µ–≤–∞—Ç—å –ª—é–±—ã–µ —Ç—Ä—É–¥–Ω–æ—Å—Ç–∏. –¢—ã –ø—Ä–∏—Ä–æ–∂–¥—ë–Ω–Ω—ã–π –ª–∏–¥–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –≤—Å–µ–≥–¥–∞ –≥–æ—Ç–æ–≤ –∑–∞—â–∏—Ç–∏—Ç—å –±–ª–∏–∑–∫–∏—Ö.",
                    food: "–¢–≤–æ—ë –±–ª—é–¥–æ ‚Äî –∫–æ–Ω–µ—á–Ω–æ –∂–µ, —Ä–∞–º–µ–Ω! –ö–∞–∫ –∏ –ù–∞—Ä—É—Ç–æ, —Ç—ã —Ü–µ–Ω–∏—à—å –Ω–∞—Å—ã—â–µ–Ω–Ω—ã–π –≤–∫—É—Å –∏ —Ç—ë–ø–ª—É—é –∞—Ç–º–æ—Å—Ñ–µ—Ä—É."
                },
                {
                    name: "–¢–∞–Ω–¥–∂–∏—Ä–æ –ö–∞–º–∞–¥–æ",
                    anime: "Demon Slayer",
                    emoji: "‚öîÔ∏è",
                    description: "–¢—ã –≤–æ–ø–ª–æ—â–∞–µ—à—å –¥–æ–±—Ä–æ—Ç—É –∏ —Å–∏–ª—É –¥—É—Ö–∞. –ö–∞–∫ –¢–∞–Ω–¥–∂–∏—Ä–æ, —Ç—ã –≥–æ—Ç–æ–≤ –ø—Ä–æ–π—Ç–∏ —á–µ—Ä–µ–∑ –ª—é–±—ã–µ –∏—Å–ø—ã—Ç–∞–Ω–∏—è —Ä–∞–¥–∏ —Ç–µ—Ö, –∫—Ç–æ —Ç–µ–±–µ –¥–æ—Ä–æ–≥. –¢–≤–æ—è —ç–º–ø–∞—Ç–∏—è –∏ —Ä–µ—à–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–µ–ª–∞—é—Ç —Ç–µ–±—è –æ—Å–æ–±–µ–Ω–Ω—ã–º.",
                    food: "–ü–æ–ø—Ä–æ–±—É–π –æ–Ω–∏–≥–∏—Ä–∏ ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ–µ, –Ω–æ —Å—ã—Ç–Ω–æ–µ –±–ª—é–¥–æ –¥–∞—Å—Ç —Ç–µ–±–µ —ç–Ω–µ—Ä–≥–∏—é –¥–ª—è –Ω–æ–≤—ã—Ö —Å–≤–µ—Ä—à–µ–Ω–∏–π."
                },
                {
                    name: "–ò–¥–∑—É–∫—É –ú–∏–¥–æ—Ä–∏—è",
                    anime: "My Hero Academia",
                    emoji: "üíö",
                    description: "–¢–≤–æ—è —Å—É–ø–µ—Ä—Å–∏–ª–∞ ‚Äî —É–ø–æ—Ä—Å—Ç–≤–æ! –ö–∞–∫ –î–µ–∫—É, —Ç—ã –º–æ–∂–µ—à—å –±—ã—Ç—å –Ω–µ—É–≤–µ—Ä–µ–Ω–Ω—ã–º, –Ω–æ –≤—Å–µ–≥–¥–∞ –∏–¥—ë—à—å –≤–ø–µ—Ä—ë–¥. –¢–≤–æ—ë –∂–µ–ª–∞–Ω–∏–µ –ø–æ–º–æ–≥–∞—Ç—å –¥—Ä—É–≥–∏–º –∏ —Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è –ª—É—á—à–µ –≤–¥–æ—Ö–Ω–æ–≤–ª—è–µ—Ç –≤—Å–µ—Ö –≤–æ–∫—Ä—É–≥.",
                    food: "–ù–∞–±–µ ‚Äî —Å–æ–≥—Ä–µ–≤–∞—é—â–µ–µ –±–ª—é–¥–æ –¥–ª—è —Ç–æ–≥–æ, –∫—Ç–æ –≤—Å–µ–≥–¥–∞ –≤ –¥–≤–∏–∂–µ–Ω–∏–∏."
                },
                {
                    name: "–≠–¥–≤–∞—Ä–¥ –≠–ª—Ä–∏–∫",
                    anime: "Fullmetal Alchemist",
                    emoji: "‚öóÔ∏è",
                    description: "–£–º–Ω—ã–π, —Ä–µ—à–∏—Ç–µ–ª—å–Ω—ã–π –∏ –Ω–µ–º–Ω–æ–≥–æ —É–ø—Ä—è–º—ã–π ‚Äî —ç—Ç–æ –ø—Ä–æ —Ç–µ–±—è. –¢—ã –∏—â–µ—à—å –æ—Ç–≤–µ—Ç—ã –Ω–∞ —Å–ª–æ–∂–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –∏ –Ω–µ –±–æ–∏—à—å—Å—è –ø—Ä–∏–∑–Ω–∞–≤–∞—Ç—å –æ—à–∏–±–∫–∏. –¢–≤–æ—è –ø—Ä–µ–¥–∞–Ω–Ω–æ—Å—Ç—å –±–ª–∏–∑–∫–∏–º –±–µ–∑–≥—Ä–∞–Ω–∏—á–Ω–∞.",
                    food: "–ö–∞—Ä—Ä–∏ ‚Äî –æ—Å—Ç—Ä–æ–µ –∏ –º–Ω–æ–≥–æ—Å–ª–æ–π–Ω–æ–µ, –∫–∞–∫ —Ç–≤–æ–π —Ö–∞—Ä–∞–∫—Ç–µ—Ä."
                }
            ],
            strategist: [
                {
                    name: "–®–∏–∫–∞–º–∞—Ä—É –ù–∞—Ä–∞",
                    anime: "Naruto",
                    emoji: "‚òÅÔ∏è",
                    description: "–¢—ã –æ–±–ª–∞–¥–∞–µ—à—å –æ—Å—Ç—Ä—ã–º —É–º–æ–º –∏ –≤—Å–µ–≥–¥–∞ –¥—É–º–∞–µ—à—å –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —à–∞–≥–æ–≤ –≤–ø–µ—Ä—ë–¥. –ö–∞–∫ –®–∏–∫–∞–º–∞—Ä—É, —Ç—ã –º–æ–∂–µ—à—å –∫–∞–∑–∞—Ç—å—Å—è –ª–µ–Ω–∏–≤—ã–º, –Ω–æ –∫–æ–≥–¥–∞ –¥–µ–ª–æ –¥–æ—Ö–æ–¥–∏—Ç –¥–æ –≤–∞–∂–Ω–æ–≥–æ ‚Äî —Ç–≤–æ–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç –Ω–µ –∑–Ω–∞–µ—Ç —Ä–∞–≤–Ω—ã—Ö.",
                    food: "–ù–∞–±–µ ‚Äî –∏–¥–µ–∞–ª—å–Ω–æ–µ –±–ª—é–¥–æ –¥–ª—è –≤–¥—É–º—á–∏–≤–æ–≥–æ –Ω–∞—Å–ª–∞–∂–¥–µ–Ω–∏—è –∑–∞ –±–µ—Å–µ–¥–æ–π."
                },
                {
                    name: "–õ–∞–π—Ç –Ø–≥–∞–º–∏",
                    anime: "Death Note",
                    emoji: "üìì",
                    description: "–¢–≤–æ–π —É–º ‚Äî —Ç–≤–æ—ë –≥–ª–∞–≤–Ω–æ–µ –æ—Ä—É–∂–∏–µ. –¢—ã –ª—é–±–∏—à—å –ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å, –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏ –≤—Å–µ–≥–¥–∞ –Ω–∞ —Ç—Ä–∏ —à–∞–≥–∞ –≤–ø–µ—Ä–µ–¥–∏. –ê–º–±–∏—Ü–∏–æ–∑–Ω–æ—Å—Ç—å –∏ —Å—Ç—Ä–µ–º–ª–µ–Ω–∏–µ –∫ —Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤—É ‚Äî —Ç–≤–æ–∏ —á–µ—Ä—Ç—ã.",
                    food: "–ú–∞—Ç—á–∞-—Ç–∏—Ä–∞–º–∏—Å—É ‚Äî –∏–∑—ã—Å–∫–∞–Ω–Ω—ã–π –¥–µ—Å–µ—Ä—Ç –¥–ª—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏—Ö —Ä–∞–∑–¥—É–º–∏–π."
                },
                {
                    name: "–ö–µ–Ω–º–∞ –ö–æ–∑—É–º—ç",
                    anime: "Haikyuu!!",
                    emoji: "üéÆ",
                    description: "–°–ø–æ–∫–æ–π–Ω—ã–π –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å, –∫–æ—Ç–æ—Ä—ã–π –≤–∏–¥–∏—Ç —Ç–æ, —á–µ–≥–æ –Ω–µ –∑–∞–º–µ—á–∞—é—Ç –¥—Ä—É–≥–∏–µ. –¢—ã –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—à—å –¥—É–º–∞—Ç—å, –∞ –Ω–µ –¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å –∏–º–ø—É–ª—å—Å–∏–≤–Ω–æ. –¢–≤–æ—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∞—è –≥–æ–ª–æ–≤–∞ ‚Äî —Ç–≤–æ—è —Å–∏–ª–∞.",
                    food: "–û–Ω–∏–≥–∏—Ä–∏ ‚Äî –ø—Ä–æ—Å—Ç–æ–µ –±–ª—é–¥–æ –¥–ª—è —Å–ª–æ–∂–Ω–æ–≥–æ —É–º–∞."
                },
                {
                    name: "–°–∞—Ç–æ—Ä—É –ì–æ–¥–∂–æ",
                    anime: "Jujutsu Kaisen",
                    emoji: "üòé",
                    description: "–¢—ã —Å–∏–ª—å–Ω–µ–π—à–∏–π, –∏ —Ç—ã —ç—Ç–æ –∑–Ω–∞–µ—à—å. –ö–∞–∫ –ì–æ–¥–∂–æ, —Ç—ã —É–≤–µ—Ä–µ–Ω –≤ —Å–µ–±–µ, —Ö–∞—Ä–∏–∑–º–∞—Ç–∏—á–µ–Ω –∏ –≤—Å–µ–≥–¥–∞ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—à—å —Å–∏—Ç—É–∞—Ü–∏—é. –ó–∞ —Ç–≤–æ–µ–π –±–µ—Å–ø–µ—á–Ω–æ—Å—Ç—å—é —Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è –æ—Å—Ç—Ä—ã–π —É–º.",
                    food: "–†–∞–º–µ–Ω –ø—Ä–µ–º–∏—É–º-–∫–ª–∞—Å—Å–∞ ‚Äî –¥–ª—è —Ç–µ—Ö, –∫—Ç–æ –∑–Ω–∞–µ—Ç —Å–µ–±–µ —Ü–µ–Ω—É."
                }
            ],
            dreamer: [
                {
                    name: "–•–∞–∫—É",
                    anime: "–£–Ω–µ—Å—ë–Ω–Ω—ã–µ –ø—Ä–∏–∑—Ä–∞–∫–∞–º–∏ (Studio Ghibli)",
                    emoji: "üêâ",
                    description: "–¢—ã –∂–∏–≤—ë—à—å –º–µ–∂–¥—É –¥–≤—É—Ö –º–∏—Ä–æ–≤ ‚Äî —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ –∏ –º–µ—á—Ç—ã. –ö–∞–∫ –•–∞–∫—É, —Ç—ã —Ç–∞–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π, –¥–æ–±—Ä—ã–π –∏ –≤–µ—Ä–Ω—ã–π. –¢–≤–æ—è –¥—É—à–∞ –ø–æ–ª–Ω–∞ –≤–æ–ª—à–µ–±—Å—Ç–≤–∞ –∏ –≥–ª—É–±–æ–∫–∏—Ö —á—É–≤—Å—Ç–≤.",
                    food: "–ú–æ—Ç–∏ –∏ –¥–∞–Ω–≥–æ ‚Äî —Å–ª–∞–¥–∫–∏–µ –º–µ—á—Ç—ã –≤ –∫–∞–∂–¥–æ–º –∫—É—Å–æ—á–∫–µ."
                },
                {
                    name: "–•–∞—É–ª",
                    anime: "–•–æ–¥—è—á–∏–π –∑–∞–º–æ–∫ –•–∞—É–ª–∞ (Studio Ghibli)",
                    emoji: "üè∞",
                    description: "–ú–∞–≥–∏—è, —Ä–æ–º–∞–Ω—Ç–∏–∫–∞ –∏ –Ω–µ–º–Ω–æ–≥–æ –¥—Ä–∞–º—ã ‚Äî —ç—Ç–æ –ø—Ä–æ —Ç–µ–±—è. –¢—ã –∫—Ä–µ–∞—Ç–∏–≤–Ω—ã–π, —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∏ –∏–Ω–æ–≥–¥–∞ —É–±–µ–≥–∞–µ—à—å –æ—Ç –ø—Ä–æ–±–ª–µ–º, –Ω–æ —Ç–≤–æ—ë —Å–µ—Ä–¥—Ü–µ –≤—Å–µ–≥–¥–∞ –Ω–∞ –º–µ—Å—Ç–µ.",
                    food: "–ú–∞—Ç—á–∞-—Ç–∏—Ä–∞–º–∏—Å—É —Å —é–¥–∑—É —á–∞–µ–º ‚Äî –∏–∑—ã—Å–∫–∞–Ω–Ω–æ–µ —Å–æ—á–µ—Ç–∞–Ω–∏–µ –¥–ª—è –º–µ—á—Ç–∞—Ç–µ–ª—è."
                },
                {
                    name: "–ù–∞–Ω–∞ –û—Å–∞–∫–∏",
                    anime: "Nana",
                    emoji: "üé∏",
                    description: "–°–≤–æ–±–æ–¥–æ–ª—é–±–∏–≤–∞—è –¥—É—à–∞ —Å —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º —Ç–∞–ª–∞–Ω—Ç–æ–º. –¢—ã —Å–ª–µ–¥—É–µ—à—å –∑–∞ —Å–≤–æ–∏–º–∏ –º–µ—á—Ç–∞–º–∏, –¥–∞–∂–µ –µ—Å–ª–∏ –ø—É—Ç—å —Ç–µ—Ä–Ω–∏—Å—Ç. –ú—É–∑—ã–∫–∞, –∏—Å–∫—É—Å—Å—Ç–≤–æ –∏ —Å—Ç—Ä–∞—Å—Ç—å ‚Äî —Ç–≤–æ–∏ —Å–ø—É—Ç–Ω–∏–∫–∏.",
                    food: "–õ—é–±–æ–µ –±–ª—é–¥–æ –≤ –∞—Ç–º–æ—Å—Ñ–µ—Ä–Ω–æ–º –∫–∞—Ñ–µ –ø–æ–¥ —Ö–æ—Ä–æ—à—É—é –º—É–∑—ã–∫—É."
                },
                {
                    name: "–¢–æ—Ç–æ—Ä–æ",
                    anime: "–ú–æ–π —Å–æ—Å–µ–¥ –¢–æ—Ç–æ—Ä–æ (Studio Ghibli)",
                    emoji: "üå≥",
                    description: "–¢—ã –Ω–∞—Ö–æ–¥–∏—à—å –≤–æ–ª—à–µ–±—Å—Ç–≤–æ –≤ –ø—Ä–æ—Å—Ç—ã—Ö –≤–µ—â–∞—Ö. –î–æ–±—Ä—ã–π, —Å–ø–æ–∫–æ–π–Ω—ã–π –∏ –Ω–µ–º–Ω–æ–≥–æ –∑–∞–≥–∞–¥–æ—á–Ω—ã–π ‚Äî —Ç—ã —Å–æ–∑–¥–∞—ë—à—å —É—é—Ç –≤–æ–∫—Ä—É–≥ —Å–µ–±—è.",
                    food: "–¢–∞–π—è–∫–∏ —Å –Ω–∞—á–∏–Ω–∫–æ–π ‚Äî —É—é—Ç–Ω–∞—è –∫–ª–∞—Å—Å–∏–∫–∞ —è–ø–æ–Ω—Å–∫–∏—Ö —Å–ª–∞–¥–æ—Å—Ç–µ–π."
                }
            ],
            rebel: [
                {
                    name: "–°–ø–∞–π–∫ –®–ø–∏–≥–µ–ª—å",
                    anime: "Cowboy Bebop",
                    emoji: "üö¨",
                    description: "–¢—ã –∏–¥—ë—à—å —Å–≤–æ–∏–º –ø—É—Ç—ë–º, –Ω–µ –æ–≥–ª—è–¥—ã–≤–∞—è—Å—å –Ω–∞ —É—Å–ª–æ–≤–Ω–æ—Å—Ç–∏. –ö–∞–∫ –°–ø–∞–π–∫, —Ç—ã —Ä–∞—Å—Å–ª–∞–±–ª–µ–Ω–Ω—ã–π —Å–Ω–∞—Ä—É–∂–∏, –Ω–æ –≤–Ω—É—Ç—Ä–∏ ‚Äî –≥–ª—É–±–æ–∫–∏–µ —á—É–≤—Å—Ç–≤–∞. –°–≤–æ–±–æ–¥–∞ –¥–ª—è —Ç–µ–±—è –ø—Ä–µ–≤—ã—à–µ –≤—Å–µ–≥–æ.",
                    food: "–ö–∞—Ä—Ä–∏ —Å –≥–æ–≤—è–¥–∏–Ω–æ–π ‚Äî –æ—Å—Ç—Ä–æ–µ –∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–µ, –∫–∞–∫ —Ç—ã."
                },
                {
                    name: "–î–∂–æ—Ç–∞—Ä–æ –ö—É–¥–∂–æ",
                    anime: "JoJo's Bizarre Adventure",
                    emoji: "‚≠ê",
                    description: "–°–∏–ª—å–Ω—ã–π, –º–æ–ª—á–∞–ª–∏–≤—ã–π –∏ –∫—Ä—É—Ç–æ–π. –¢—ã –Ω–µ –ª—é–±–∏—à—å –ª–∏—à–Ω–∏—Ö —Å–ª–æ–≤, –Ω–æ —Ç–≤–æ–∏ –¥–µ–π—Å—Ç–≤–∏—è –≥–æ–≤–æ—Ä—è—Ç —Å–∞–º–∏ –∑–∞ —Å–µ–±—è. –ü—Ä–µ–¥–∞–Ω–Ω–æ—Å—Ç—å –∏ —Å–∏–ª–∞ ‚Äî —Ç–≤–æ–∏ –∫–æ–∑—ã—Ä–∏.",
                    food: "–†–∞–º–µ–Ω –±–µ–∑ –ª–∏—à–Ω–∏—Ö —Å–ª–æ–≤ ‚Äî —Å—ã—Ç–Ω–æ –∏ –ø–æ –¥–µ–ª—É."
                },
                {
                    name: "–õ–µ–≤–∏ –ê–∫–∫–µ—Ä–º–∞–Ω",
                    anime: "Attack on Titan",
                    emoji: "üó°Ô∏è",
                    description: "–¢—ã –º–∞–ª–µ–Ω—å–∫–∏–π, –Ω–æ –≥—Ä–æ–∑–Ω—ã–π. –î–∏—Å—Ü–∏–ø–ª–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –∏ —Å—Ç—Ä–µ–º–ª–µ–Ω–∏–µ –∫ —Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤—É ‚Äî —Ç–≤–æ–∏ —Å–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã. –¢—ã –Ω–µ —Ç–µ—Ä–ø–∏—à—å –±–µ—Å–ø–æ—Ä—è–¥–∫–∞ –Ω–∏ –≤ –∂–∏–∑–Ω–∏, –Ω–∏ –≤ –±–æ—é.",
                    food: "–ú–∞—Ç—á–∞ –ª–∞—Ç—Ç–µ ‚Äî —á–∏—Å—Ç—ã–π –≤–∫—É—Å –±–µ–∑ –∫–æ–º–ø—Ä–æ–º–∏—Å—Å–æ–≤."
                },
                {
                    name: "–°—É–∫—É–Ω–∞",
                    anime: "Jujutsu Kaisen",
                    emoji: "üëπ",
                    description: "–¢—ã –∑–∞–≥–∞–¥–æ—á–Ω—ã–π –∏ –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–π. –ñ–∏–≤—ë—à—å –ø–æ —Å–≤–æ–∏–º –ø—Ä–∞–≤–∏–ª–∞–º –∏ –Ω–µ –ø–æ–¥—á–∏–Ω—è–µ—à—å—Å—è —á—É–∂–∏–º –æ–∂–∏–¥–∞–Ω–∏—è–º. –¢–≤–æ—è —Å–∏–ª–∞ –≤ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏.",
                    food: "–û—Å—Ç—Ä—ã–π —Ä–∞–º–µ–Ω ‚Äî —Ç–∞–∫–æ–π –∂–µ –¥–µ—Ä–∑–∫–∏–π, –∫–∞–∫ –∏ —Ç—ã."
                }
            ],
            optimist: [
                {
                    name: "–õ—É—Ñ—Ñ–∏",
                    anime: "One Piece",
                    emoji: "üè¥‚Äç‚ò†Ô∏è",
                    description: "–¢—ã –≤–æ–ø–ª–æ—â–µ–Ω–∏–µ –ø–æ–∑–∏—Ç–∏–≤–∞ –∏ –∞–≤–∞–Ω—Ç—é—Ä–∏–∑–º–∞! –ö–∞–∫ –õ—É—Ñ—Ñ–∏, —Ç—ã –≤–µ—Ä–∏—à—å –≤ –¥—Ä—É–∂–±—É, –ª—é–±–∏—à—å –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—è –∏ –≤—Å–µ–≥–¥–∞ –∏–¥—ë—à—å –≤–ø–µ—Ä—ë–¥ —Å —É–ª—ã–±–∫–æ–π. –¢–≤–æ—è —ç–Ω–µ—Ä–≥–∏—è –∑–∞—Ä–∞–∑–∏—Ç–µ–ª—å–Ω–∞!",
                    food: "–°—ã—Ç–Ω—ã–π —Ä–∞–º–µ–Ω ‚Äî –ª—é–±–∏–º–æ–µ –±–ª—é–¥–æ –¥–ª—è –Ω–∞—Å—Ç–æ—è—â–∏—Ö –∏—Å–∫–∞—Ç–µ–ª–µ–π –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–π!"
                },
                {
                    name: "–•–∏–Ω–∞—Ç–∞ –•—å—é–≥–∞",
                    anime: "Naruto",
                    emoji: "üíú",
                    description: "–ù–µ–∂–Ω–∞—è, –¥–æ–±—Ä–∞—è –∏ –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–æ —Å–∏–ª—å–Ω–∞—è –≤–Ω—É—Ç—Ä–∏. –¢—ã –≤–µ—Ä–∏—à—å –≤ –ª—é–¥–µ–π –∏ –≤—Å–µ–≥–¥–∞ –Ω–∞—Ö–æ–¥–∏—à—å —Å–≤–µ—Ç–ª—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã. –¢–≤–æ—è —Å–∫—Ä–æ–º–Ω–æ—Å—Ç—å —Å–∫—Ä—ã–≤–∞–µ—Ç –Ω–∞—Å—Ç–æ—è—â—É—é —Å–∏–ª—É –¥—É—Ö–∞.",
                    food: "–ú–æ—Ç–∏ —Å –∫—Ä–∞—Å–Ω–æ–π —Ñ–∞—Å–æ–ª—å—é ‚Äî –º—è–≥–∫–æ–µ –∏ —Å–ª–∞–¥–∫–æ–µ, –∫–∞–∫ —Ç–≤–æ–π —Ö–∞—Ä–∞–∫—Ç–µ—Ä."
                },
                {
                    name: "–£—Å–æ–ø–ø",
                    anime: "One Piece",
                    emoji: "üéØ",
                    description: "–¢—ã –º–æ–∂–µ—à—å –±—ã—Ç—å —Ç—Ä—É—Å–æ–≤–∞—Ç—ã–º, –Ω–æ —Ç–≤–æ—ë —Å–µ—Ä–¥—Ü–µ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –º–µ—Å—Ç–µ. –¢–≤–æ—è –∏–∑–æ–±—Ä–µ—Ç–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ —é–º–æ—Ä —Å–ø–∞—Å–∞—é—Ç –≤ —Ç—Ä—É–¥–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö.",
                    food: "–û–Ω–∏–≥–∏—Ä–∏ ‚Äî –ø—Ä–æ—Å—Ç–æ–µ, –Ω–æ –Ω–∞–¥—ë–∂–Ω–æ–µ –±–ª—é–¥–æ."
                },
                {
                    name: "–°–æ–º–∞ –Æ–∫–∏—Ö–∏—Ä–∞",
                    anime: "Food Wars!",
                    emoji: "üë®‚Äçüç≥",
                    description: "–¢—ã –ø–æ–ª–æ–Ω —ç–Ω—Ç—É–∑–∏–∞–∑–º–∞ –∏ —Ç–≤–æ—Ä—á–µ—Å–∫–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞. –ö–∞–∫ –°–æ–º–∞, —Ç—ã –ø—Ä–µ–≤—Ä–∞—â–∞–µ—à—å –ª—é–±–æ–µ –¥–µ–ª–æ –≤ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ –∏ –Ω–µ –±–æ–∏—à—å—Å—è —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å.",
                    food: "–¢–∞–π—è–∫–∏ ‚Äî –∫–ª–∞—Å—Å–∏–∫–∞ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –∫—Ä–µ–∞—Ç–∏–≤–∞!"
                }
            ],
            introvert: [
                {
                    name: "–ö–∞–∫–∞—à–∏ –•–∞—Ç–∞–∫—ç",
                    anime: "Naruto",
                    emoji: "üìñ",
                    description: "–¢—ã –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—à—å —Ç–∏—à–∏–Ω—É –∏ —Ä–∞–∑–º—ã—à–ª–µ–Ω–∏—è. –ö–∞–∫ –ö–∞–∫–∞—à–∏, —Ç—ã —Å–ø–æ–∫–æ–µ–Ω, –º—É–¥—Ä –∏ –≤—Å–µ–≥–¥–∞ –≥–æ—Ç–æ–≤ –ø–æ–¥–¥–µ—Ä–∂–∞—Ç—å, –Ω–æ —Ç–≤–æ–π –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –º–∏—Ä –æ—Å—Ç–∞—ë—Ç—Å—è –∑–∞–≥–∞–¥–∫–æ–π.",
                    food: "–†–∞–º–µ–Ω –≤ –æ–¥–∏–Ω–æ—á–µ—Å—Ç–≤–µ —Å —Ö–æ—Ä–æ—à–µ–π –∫–Ω–∏–≥–æ–π ‚Äî —Ç–≤–æ–π –∏–¥–µ–∞–ª—å–Ω—ã–π –≤–µ—á–µ—Ä."
                },
                {
                    name: "–†–µ–π –ê—è–Ω–∞–º–∏",
                    anime: "Neon Genesis Evangelion",
                    emoji: "ü§ç",
                    description: "–¢–∏—Ö–∏–π, –∑–∞–≥–∞–¥–æ—á–Ω—ã–π –∏ –≥–ª—É–±–æ–∫–∏–π. –¢—ã –Ω–µ –ª—é–±–∏—à—å –ª–∏—à–Ω–µ–≥–æ —à—É–º–∞ –∏ –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—à—å –æ–¥–∏–Ω–æ—á–µ—Å—Ç–≤–æ. –ù–æ —Ç–µ, –∫—Ç–æ –∑–Ω–∞–µ—Ç —Ç–µ–±—è, –≤–∏–¥—è—Ç —Ç–≤–æ—é —É–Ω–∏–∫–∞–ª—å–Ω—É—é –¥—É—à—É.",
                    food: "–ü—Ä–æ—Å—Ç–æ–π –æ–Ω–∏–≥–∏—Ä–∏ ‚Äî –º–∏–Ω–∏–º–∞–ª–∏–∑–º –≤ –µ–¥–µ –æ—Ç—Ä–∞–∂–∞–µ—Ç —Ç–≤–æ—é –Ω–∞—Ç—É—Ä—É."
                },
                {
                    name: "–ú–µ–≥—É–º–∏ –§—É—Å–∏–≥—É—Ä–æ",
                    anime: "Jujutsu Kaisen",
                    emoji: "üê∫",
                    description: "–¢—ã —Å–µ—Ä—å—ë–∑–Ω—ã–π –∏ —Å–¥–µ—Ä–∂–∞–Ω–Ω—ã–π, –Ω–æ –≥–ª—É–±–æ–∫–æ –∑–∞–±–æ—Ç–∏—à—å—Å—è –æ –±–ª–∏–∑–∫–∏—Ö. –ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—à—å –¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å –∏–∑ —Ç–µ–Ω–∏, –Ω–æ —Ç–≤–æ—è —Å–∏–ª–∞ –Ω–µ–æ—Å–ø–æ—Ä–∏–º–∞.",
                    food: "–ù–∞–±–µ ‚Äî —Ç–∏—Ö–æ–µ –Ω–∞—Å–ª–∞–∂–¥–µ–Ω–∏–µ –≤ –∫–æ–º–ø–∞–Ω–∏–∏ –±–ª–∏–∑–∫–∏—Ö."
                },
                {
                    name: "–ö–∏–ª–ª—É–∞ –ó–æ–ª–¥–∏–∫",
                    anime: "Hunter x Hunter",
                    emoji: "‚ö°",
                    description: "–ó–∞ —Å–ø–æ–∫–æ–π–Ω–æ–π –≤–Ω–µ—à–Ω–æ—Å—Ç—å—é —Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–∞—è —Å–∏–ª–∞. –¢—ã –∏–∑–±–∏—Ä–∞—Ç–µ–ª–µ–Ω –≤ –æ–±—â–µ–Ω–∏–∏, –Ω–æ –¥–ª—è –¥—Ä—É–∑–µ–π –≥–æ—Ç–æ–≤ –Ω–∞ –≤—Å—ë.",
                    food: "–ú–∞—Ç—á–∞ –ª–∞—Ç—Ç–µ ‚Äî –¥–ª—è —Ç–µ—Ö, –∫—Ç–æ —Ü–µ–Ω–∏—Ç –∫–∞—á–µ—Å—Ç–≤–æ, –∞ –Ω–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ."
                }
            ],
            leader: [
                {
                    name: "–≠—Ä–≤–∏–Ω –°–º–∏—Ç",
                    anime: "Attack on Titan",
                    emoji: "üéñÔ∏è",
                    description: "–¢—ã –ø—Ä–∏—Ä–æ–∂–¥—ë–Ω–Ω—ã–π –ª–∏–¥–µ—Ä —Å —Å–∏–ª—å–Ω—ã–º —á—É–≤—Å—Ç–≤–æ–º –¥–æ–ª–≥–∞. –ö–∞–∫ –≠—Ä–≤–∏–Ω, —Ç—ã –≥–æ—Ç–æ–≤ –∂–µ—Ä—Ç–≤–æ–≤–∞—Ç—å —Ä–∞–¥–∏ –æ–±—â–µ–≥–æ –±–ª–∞–≥–∞ –∏ –≤–¥–æ—Ö–Ω–æ–≤–ª—è–µ—à—å –ª—é–¥–µ–π —Å–≤–æ–∏–º –ø—Ä–∏–º–µ—Ä–æ–º.",
                    food: "–ù–∞–±–µ ‚Äî –±–ª—é–¥–æ –¥–ª—è –∫–æ–º–∞–Ω–¥–Ω–æ–π —Ç—Ä–∞–ø–µ–∑—ã –∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏—Ö –±–µ—Å–µ–¥."
                },
                {
                    name: "–ì–æ–Ω –§—Ä–∏–∫—Å",
                    anime: "Hunter x Hunter",
                    emoji: "üé£",
                    description: "–¢—ã –≤–µ—Ä–∏—à—å –≤ –ª—é–¥–µ–π –∏ —Å–≤–æ–∏–º —ç–Ω—Ç—É–∑–∏–∞–∑–º–æ–º –∑–∞—Ä–∞–∂–∞–µ—à—å –æ–∫—Ä—É–∂–∞—é—â–∏—Ö. –¢–≤–æ—è —á–µ—Å—Ç–Ω–æ—Å—Ç—å –∏ –æ—Ç–∫—Ä—ã—Ç–æ—Å—Ç—å –¥–µ–ª–∞—é—Ç —Ç–µ–±—è –Ω–∞—Å—Ç–æ—è—â–∏–º –ª–∏–¥–µ—Ä–æ–º —Å—Ä–µ–¥–∏ –¥—Ä—É–∑–µ–π.",
                    food: "–†–∞–º–µ–Ω ‚Äî —Å—ã—Ç–Ω–æ–µ –±–ª—é–¥–æ –¥–ª—è –∏—Å–∫–∞—Ç–µ–ª—è –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–π."
                },
                {
                    name: "–¢–µ—Ç—Å—É—Ä–æ –ö—É—Ä–æ–æ",
                    anime: "Haikyuu!!",
                    emoji: "üòè",
                    description: "–•–∞—Ä–∏–∑–º–∞—Ç–∏—á–Ω—ã–π –ø—Ä–æ–≤–æ–∫–∞—Ç–æ—Ä —Å —Ç—ë–ø–ª—ã–º —Å–µ—Ä–¥—Ü–µ–º. –¢—ã —É–º–µ–µ—à—å –º–æ—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É –∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –∞—Ç–º–æ—Å—Ñ–µ—Ä—É.",
                    food: "–û–Ω–∏–≥–∏—Ä–∏ ‚Äî –¥–ª—è —ç–Ω–µ—Ä–≥–∏—á–Ω–æ–≥–æ –∫–∞–ø–∏—Ç–∞–Ω–∞ –∫–æ–º–∞–Ω–¥—ã."
                },
                {
                    name: "–ò—Ç–∞–¥–æ—Ä–∏ –Æ–¥–∂–∏",
                    anime: "Jujutsu Kaisen",
                    emoji: "üëä",
                    description: "–¢—ã –ø–æ–∑–∏—Ç–∏–≤–Ω—ã–π –ª–∏–¥–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –≤–¥–æ—Ö–Ω–æ–≤–ª—è–µ—Ç –¥—Ä—É–≥–∏—Ö —Å–≤–æ–µ–π –¥–æ–±—Ä–æ—Ç–æ–π –∏ —Å–∏–ª–æ–π. –í—Å–µ–≥–¥–∞ –≥–æ—Ç–æ–≤ –ø–æ–º–æ—á—å –∏ –∑–∞—â–∏—Ç–∏—Ç—å.",
                    food: "–†–∞–º–µ–Ω —Å —è–π—Ü–æ–º ‚Äî –ø—Ä–æ—Å—Ç–æ–µ, –Ω–æ –º–æ—â–Ω–æ–µ —Ç–æ–ø–ª–∏–≤–æ –¥–ª—è –≥–µ—Ä–æ—è."
                }
            ]
        };

        let currentQuestion = 0;
        let archetypeScores = {
            hero: 0,
            strategist: 0,
            dreamer: 0,
            rebel: 0,
            optimist: 0,
            introvert: 0,
            leader: 0
        };
        let userAnswers = []; // Store user answers for deterministic results

        // Initialize Telegram WebApp
        let tg = window.Telegram.WebApp;
        tg.ready();
        tg.expand();

        function startQuiz() {
            document.getElementById('startScreen').style.display = 'none';
            document.getElementById('quizScreen').style.display = 'block';
            currentQuestion = 0;
            archetypeScores = {
                hero: 0,
                strategist: 0,
                dreamer: 0,
                rebel: 0,
                optimist: 0,
                introvert: 0,
                leader: 0
            };
            userAnswers = [];
            showQuestion();
        }

        function showQuestion() {
            const question = questions[currentQuestion];
            const progress = ((currentQuestion + 1) / questions.length) * 100;
            
            document.getElementById('progressFill').style.width = progress + '%';
            document.getElementById('questionNumber').textContent = `–í–æ–ø—Ä–æ—Å ${currentQuestion + 1} –∏–∑ ${questions.length}`;
            document.getElementById('questionText').textContent = question.question;
            
            const answersGrid = document.getElementById('answersGrid');
            answersGrid.innerHTML = '';
            
            question.answers.forEach((answer, index) => {
                const card = document.createElement('div');
                card.className = 'answer-card';
                card.innerHTML = `
                    <div class="answer-image">${answer.emoji}</div>
                    <div class="answer-label">${answer.text}</div>
                `;
                card.onclick = () => selectAnswer(answer, index, card);
                answersGrid.appendChild(card);
            });
        }

        function selectAnswer(answer, answerIndex, cardElement) {
            // Remove previous selection
            document.querySelectorAll('.answer-card').forEach(card => {
                card.classList.remove('selected');
            });
            
            // Add selection
            cardElement.classList.add('selected');
            
            // Store answer for deterministic result
            userAnswers[currentQuestion] = answerIndex;
            
            // Add score
            archetypeScores[answer.archetype]++;
            
            // Next question after delay
            setTimeout(() => {
                currentQuestion++;
                if (currentQuestion < questions.length) {
                    showQuestion();
                } else {
                    showResult();
                }
            }, 400);
        }

        function showResult() {
            // Find dominant archetype
            let maxScore = 0;
            let dominantArchetype = 'hero';
            
            for (let archetype in archetypeScores) {
                if (archetypeScores[archetype] > maxScore) {
                    maxScore = archetypeScores[archetype];
                    dominantArchetype = archetype;
                }
            }
            
            // DETERMINISTIC: Use hash of answers to select character consistently
            const answerHash = userAnswers.join('-');
            const hashValue = answerHash.split('').reduce((acc, char) => acc + char.charCodeAt(0), 0);
            
            const charactersList = characters[dominantArchetype];
            const characterIndex = hashValue % charactersList.length;
            const character = charactersList[characterIndex];
            
            // Show result
            document.getElementById('quizScreen').style.display = 'none';
            document.getElementById('resultScreen').style.display = 'block';
            
            document.getElementById('characterImage').textContent = character.emoji;
            document.getElementById('characterName').textContent = character.name;
            document.getElementById('characterAnime').textContent = `–∏–∑ "${character.anime}"`;
            document.getElementById('characterDescription').textContent = character.description;
            document.getElementById('cafeRecommendation').textContent = character.food;
        }

        function shareResult() {
            const characterName = document.getElementById('characterName').textContent;
            const shareText = `–Ø –ø—Ä–æ—à—ë–ª —Ç–µ—Å—Ç "–ö—Ç–æ —Ç—ã –∏–∑ –∞–Ω–∏–º–µ?" –∏ –ø–æ–ª—É—á–∏–ª ${characterName}! üç•‚ú® –ü—Ä–æ–π–¥–∏ –∏ —Ç—ã!`;
            
            if (tg.initDataUnsafe.user) {
                tg.shareMessage(shareText);
            } else {
                // Fallback for web version
                if (navigator.share) {
                    navigator.share({
                        title: '–ö—Ç–æ —Ç—ã –∏–∑ –∞–Ω–∏–º–µ?',
                        text: shareText
                    });
                } else {
                    alert('–°–¥–µ–ª–∞–π —Å–∫—Ä–∏–Ω—à–æ—Ç –∏ –ø–æ–¥–µ–ª–∏—Å—å —Å –¥—Ä—É–∑—å—è–º–∏!');
                }
            }
        }

        function openTaiyakiChannel() {
            window.open('https://t.me/taiyakicafe', '_blank');
        }

        function restartQuiz() {
            document.getElementById('resultScreen').style.display = 'none';
            document.getElementById('startScreen').style.display = 'block';
        }

        // Add haptic feedback for Telegram
        document.addEventListener('click', function() {
            if (tg.HapticFeedback) {
                tg.HapticFeedback.impactOccurred('light');
            }
        });
    </script>
</body>
</html>
